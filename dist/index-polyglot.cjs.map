{"version":3,"file":"index-polyglot.cjs","sources":["../src/buildGetJSONWithFetch.js","../src/getDirectoryForURL.js","../src/index-polyglot.js"],"sourcesContent":["/* eslint-disable node/no-unsupported-features/es-syntax */\n\n/**\n * @callback getJSONCallback\n * @param {string|string[]} jsonURL\n * @param {SimpleJSONCallback} cb\n * @param {SimpleJSONErrback} errBack\n * @returns {Promise<JSON>}\n */\n\n/**\n * @param {PlainObject} cfg\n * @param {fetch} cfg.fetch\n * @returns {getJSONCallback}\n */\nfunction buildGetJSONWithFetch ({\n  // eslint-disable-next-line no-shadow\n  fetch = typeof window !== 'undefined' ? window.fetch : self.fetch\n} = {}) {\n  /**\n  * @callback SimpleJSONCallback\n  * @param {JSON} json\n  * @returns {void}\n  */\n\n  /**\n  * @callback SimpleJSONErrback\n  * @param {Error} err\n  * @param {string|string[]} jsonURL\n  * @returns {void}\n  */\n\n  /**\n  * @type {getJSONCallback}\n  */\n  return async function getJSON (jsonURL, cb, errBack) {\n    try {\n      if (Array.isArray(jsonURL)) {\n        const arrResult = await Promise.all(jsonURL.map((url) => {\n          return getJSON(url);\n        }));\n        if (cb) {\n          // eslint-disable-next-line node/callback-return, node/no-callback-literal, promise/prefer-await-to-callbacks\n          cb(...arrResult);\n        }\n        return arrResult;\n      }\n      const resp = await fetch(jsonURL);\n      const result = await resp.json();\n      return typeof cb === 'function'\n        // eslint-disable-next-line promise/prefer-await-to-callbacks\n        ? cb(result)\n        : result;\n    // https://github.com/bcoe/c8/issues/135\n    /* c8 ignore next */\n    } catch (e) {\n      e.message += ` (File: ${jsonURL})`;\n      if (errBack) {\n        return errBack(e, jsonURL);\n      }\n      throw e;\n    // https://github.com/bcoe/c8/issues/135\n    /* c8 ignore next */\n    }\n  /* c8 ignore next */\n  };\n}\n\nexport {buildGetJSONWithFetch};\n","/* eslint-disable node/no-unsupported-features/node-builtins,\n  node/no-unsupported-features/es-syntax, compat/compat */\n\n// Needed for polyglot support (no `path` in browser); even if\n//  polyglot using dynamic `import` not supported by Rollup (complaining\n//  of inability to do tree-shaking in UMD builds), still useful to delay\n//  path import for our testing, so that test can import this file in\n//  the browser without compilation without it choking\nlet dirname, isWindows;\nexport const setDirname = async () => {\n  if (!dirname) {\n    ({dirname} = await import('path'));\n  }\n};\n\n/**\n * @param {string} path\n * @returns {string}\n */\nfunction fixWindowsPath (path) {\n  if (!isWindows) {\n    isWindows = process.platform === 'win32';\n  }\n  return path.slice(\n    // https://github.com/bcoe/c8/issues/135\n    /* c8 ignore next */\n    isWindows ? 1 : 0\n  );\n}\n\n/**\n * @param {string} url\n * @returns {string}\n */\nfunction getDirectoryForURL (url) {\n  // Node should be ok with this, but transpiling\n  //  to `require` doesn't work, so detect Windows\n  //  to remove slash instead\n  // \"file://\" +\n  return fixWindowsPath(\n    dirname(new URL(url).pathname)\n  );\n}\n\nexport {getDirectoryForURL};\n","/* eslint-disable node/no-unsupported-features/es-syntax */\nimport {buildGetJSONWithFetch} from './buildGetJSONWithFetch.js';\nimport {getDirectoryForURL, setDirname} from './getDirectoryForURL.js';\n\nlet nodeFetch;\n/**\n * @param {PlainObject} cfg\n * @param {string} cfg.baseURL\n * @param {string} cfg.cwd\n * @returns {getJSONCallback}\n */\nfunction buildGetJSON ({\n  baseURL,\n  cwd: basePath\n} = {}) {\n  const _fetch = typeof fetch !== 'undefined'\n    ? fetch\n    : async (jsonURL) => {\n      if ((/^https?:/u).test(jsonURL)) {\n        if (!nodeFetch) {\n          nodeFetch = await import('node-fetch');\n        }\n        return nodeFetch.default(jsonURL);\n      }\n\n      if (!basePath) {\n        await setDirname();\n        basePath = baseURL\n          ? getDirectoryForURL(baseURL)\n          : typeof fetch === 'undefined' && process.cwd();\n      }\n\n      // Filed https://github.com/bergos/file-fetch/issues/12 to see\n      //  about getting relative basePaths in `file-fetch` and using\n      //  that better-tested package instead\n      const localXMLHttpRequest = await import('local-xmlhttprequest');\n      // eslint-disable-next-line no-shadow\n      const XMLHttpRequest = localXMLHttpRequest.default({\n        basePath\n      }); // Don't change to an import as won't resolve for browser testing\n      // eslint-disable-next-line promise/avoid-new\n      return new Promise((resolve, reject) => {\n        const r = new XMLHttpRequest();\n        r.open('GET', jsonURL, true);\n        // r.responseType = 'json';\n        // eslint-disable-next-line unicorn/prefer-add-event-listener -- May not be available\n        r.onreadystatechange = function () {\n          // Not sure how to simulate `if`\n          /* c8 ignore next */\n          if (r.readyState !== 4) { return; }\n          if (r.status === 200) {\n            // var json = r.json;\n            const response = r.responseText;\n            resolve({\n              json: () => JSON.parse(response)\n            });\n            return;\n          }\n          reject(new SyntaxError(\n            'Failed to fetch URL: ' + jsonURL + 'state: ' +\n            r.readyState + '; status: ' + r.status\n          ));\n        };\n        r.send();\n      // https://github.com/bcoe/c8/issues/135\n      /* c8 ignore next */\n      });\n    /* c8 ignore next */\n    };\n\n  const ret = buildGetJSONWithFetch({\n    fetch: _fetch\n  });\n\n  ret._fetch = _fetch;\n  ret.hasURLBasePath = Boolean(baseURL);\n  ret.basePath = basePath;\n\n  return ret;\n}\n\nconst getJSON = buildGetJSON();\n\nexport {getJSON, buildGetJSON};\n"],"names":["_await","value","then","direct","Promise","resolve","body","result","recover","e","buildGetJSONWithFetch","fetch","window","self","getJSON","jsonURL","cb","errBack","_invoke","Array","isArray","all","map","url","arrResult","resp","json","message","dirname","isWindows","_async","f","args","i","arguments","length","apply","reject","setDirname","fixWindowsPath","path","process","platform","slice","getDirectoryForURL","URL","pathname","nodeFetch","buildGetJSON","baseURL","cwd","basePath","_fetch","test","default","localXMLHttpRequest","XMLHttpRequest","r","open","onreadystatechange","readyState","status","response","responseText","JSON","parse","SyntaxError","send","ret","hasURLBasePath","Boolean"],"mappings":"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"}